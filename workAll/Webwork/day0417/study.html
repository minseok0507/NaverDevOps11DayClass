<!DOCTYPE html>
<!-- saved from url=(0026)http://localhost:8080/cart -->
<html lang="en" class=" pxiihbwm idc0_350"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./장바구니_files/nav.css">
    <link rel="stylesheet" href="./장바구니_files/cart.css">
    <title>장바구니</title>

</head>

<body>
<div class="nav">
    <a class="logo" href="http://localhost:8080/">SpringMall</a>
    <a href="http://localhost:8080/list/1">List</a>
    <a href="http://localhost:8080/write">Write</a>
    <a href="http://localhost:8080/logout">logout</a>
    <a href="http://localhost:8080/my-page">minseok</a>
    
    <a href="http://localhost:8080/cart">장바구니</a>

</div>
<h1>장바구니</h1>
<section class="cart">
    <table class="cart__list">
            <thead>
            <tr>
                <td><input type="checkbox" id="checkAll"></td>
                <td colspan="2">상품정보</td>
                <td>옵션</td>
                <td>상품금액</td>
                <td>배송비</td>
            </tr>
            </thead>
            <tbody class="tbody">
            <tr>
                <td colspan="100%" id="cartEmpty" style="font-size: 20px; text-align: center; display: none;">장바구니 상품 없음</td>
            </tr>
            <tr class="cart__list__detail">
                <td><input type="checkbox" value="6" class="checkbox"></td>
                <td><img src="./장바구니_files/300" alt="이미지들어갈곳"></td>
                <td>
                    <a href="http://localhost:8080/detail/24">
                        <p>asdf</p>
                        <p>개당<sapn class="price">1213</sapn>원</p>
                    </a>
                </td>
                <td class="cart__list__option">
                    <!-- 수량 변경을 위한 form  -->
                    <form action="http://localhost:8080/cart/changeQuantity" method="POST">
                        <input type="hidden" name="id" value="6">
                        <p>수량 <input type="number" name="quantity" value="6"></p>
                        <button type="submit">변경</button>

                    <button onclick="fetch(&#39;/cart?id=6&#39;, {method : &#39;DELETE&#39;})
                        .then(() =&gt; {
                            location.reload();
                        })
                        ">삭제</button>
                    </form>
                </td>
                <td><span class="price">7278</span>
                </td>
                <td>무료</td>
            </tr>
            <tr class="cart__list__detail">
                <td><input type="checkbox" value="7" class="checkbox"></td>
                <td><img src="./장바구니_files/300" alt="이미지들어갈곳"></td>
                <td>
                    <a href="http://localhost:8080/detail/25">
                        <p>dkdkkdda</p>
                        <p>개당<sapn class="price">1213</sapn>원</p>
                    </a>
                </td>
                <td class="cart__list__option">
                    <!-- 수량 변경을 위한 form  -->
                    <form action="http://localhost:8080/cart/changeQuantity" method="POST">
                        <input type="hidden" name="id" value="7">
                        <p>수량 <input type="number" name="quantity" value="6"></p>
                        <button type="submit">변경</button>

                    <button onclick="fetch(&#39;/cart?id=7&#39;, {method : &#39;DELETE&#39;})
                        .then(() =&gt; {
                            location.reload();
                        })
                        ">삭제</button>
                    </form>
                </td>
                <td><span class="price">7278</span>
                </td>
                <td>무료</td>
            </tr>
            <tr class="cart__list__detail">
                <td><input type="checkbox" value="10" class="checkbox"></td>
                <td><img src="./장바구니_files/20240416213831_anonymous_스크린샷 2024-04-16 21.38.27.png" alt="이미지들어갈곳"></td>
                <td>
                    <a href="http://localhost:8080/detail/36">
                        <p>test</p>
                        <p>개당<sapn class="price">102031</sapn>원</p>
                    </a>
                </td>
                <td class="cart__list__option">
                    <!-- 수량 변경을 위한 form  -->
                    <form action="http://localhost:8080/cart/changeQuantity" method="POST">
                        <input type="hidden" name="id" value="10">
                        <p>수량 <input type="number" name="quantity" value="5"></p>
                        <button type="submit">변경</button>

                    <button onclick="fetch(&#39;/cart?id=10&#39;, {method : &#39;DELETE&#39;})
                        .then(() =&gt; {
                            location.reload();
                        })
                        ">삭제</button>
                    </form>
                </td>
                <td><span class="price">510155</span>
                </td>
                <td>무료</td>
            </tr>
            <tr class="cart__list__detail">
                <td><input type="checkbox" value="11" class="checkbox"></td>
                <td><img src="./장바구니_files/300" alt="이미지들어갈곳"></td>
                <td>
                    <a href="http://localhost:8080/detail/27">
                        <p>asdf</p>
                        <p>개당<sapn class="price">1213</sapn>원</p>
                    </a>
                </td>
                <td class="cart__list__option">
                    <!-- 수량 변경을 위한 form  -->
                    <form action="http://localhost:8080/cart/changeQuantity" method="POST">
                        <input type="hidden" name="id" value="11">
                        <p>수량 <input type="number" name="quantity" value="1"></p>
                        <button type="submit">변경</button>

                    <button onclick="fetch(&#39;/cart?id=11&#39;, {method : &#39;DELETE&#39;})
                        .then(() =&gt; {
                            location.reload();
                        })
                        ">삭제</button>
                    </form>
                </td>
                <td><span class="price">1213</span>
                </td>
                <td>무료</td>
            </tr>
            <tr class="cart__list__detail">
                <td><input type="checkbox" value="12" class="checkbox"></td>
                <td><img src="./장바구니_files/20240411120220_anonymous_스크린샷 2024-04-11 12.02.15.png" alt="이미지들어갈곳"></td>
                <td>
                    <a href="http://localhost:8080/detail/30">
                        <p>테스트</p>
                        <p>개당<sapn class="price">696969</sapn>원</p>
                    </a>
                </td>
                <td class="cart__list__option">
                    <!-- 수량 변경을 위한 form  -->
                    <form action="http://localhost:8080/cart/changeQuantity" method="POST">
                        <input type="hidden" name="id" value="12">
                        <p>수량 <input type="number" name="quantity" value="2"></p>
                        <button type="submit">변경</button>

                    <button onclick="fetch(&#39;/cart?id=12&#39;, {method : &#39;DELETE&#39;})
                        .then(() =&gt; {
                            location.reload();
                        })
                        ">삭제</button>
                    </form>
                </td>
                <td><span class="price">1393938</span>
                </td>
                <td>무료</td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="3"><button class="cart__list__optionbtn">선택상품 삭제</button>
                </td>
                <td></td>
                <td></td>
            </tr>
            </tfoot>
    </table>
    <div class="cart__mainbtns">
        <button class="cart__bigorderbtn left">쇼핑 계속하기</button>
        <button class="cart__bigorderbtn right">주문하기</button>
    </div>
</section>


<script>
    var tbody = document.getElementsByClassName('tbody')[0];
    var cartEmpty = document.getElementById('cartEmpty');

    if(tbody.childElementCount < 2){
        cartEmpty.style.display = '';
    }else{
        cartEmpty.style.display = 'none';
    }

    var checkAll = document.getElementById('checkAll');
    var checkbox = document.getElementsByClassName('checkbox');
    var checkedIdArr = new Array();
    checkAll.addEventListener('click',function(){
        if (this.checked){
            for(var ci = 0; ci < 5; ci++){
                checkbox[ci].checked = true;
            }
        }else{
            for(var ci = 0; ci < 5; ci++){
                checkbox[ci].checked = false;
            }
        }
    });
    document.getElementsByClassName('cart__list__optionbtn')[0].addEventListener('click',function(){
        checkedIdArr = [];
        for(var ci1 = 0; ci1 < checkbox.length; ci1++){
            if(checkbox[ci1].checked){
                checkedIdArr.push(checkbox[ci1].value);
            }
        }
        alert(checkedIdArr.length);
    });
</script>

</body></html>